<Project>
  <PropertyGroup>
    <ContinuousIntegrationBuild Condition="'$(OfficialBuildId)' != ''">true</ContinuousIntegrationBuild>
  </PropertyGroup>

  <PropertyGroup>
    <UseSharedCompilation>false</UseSharedCompilation>
    <LangVersion>Latest</LangVersion>
    <WarningLevel>4</WarningLevel>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <SuppressNETCoreSdkPreviewMessage>true</SuppressNETCoreSdkPreviewMessage>
  </PropertyGroup>

  <PropertyGroup>
    <PackageIconUrl>http://go.microsoft.com/fwlink/?LinkID=288859</PackageIconUrl>
    <RepositoryType>git</RepositoryType>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <EnableSourceControlManagerQueries>true</EnableSourceControlManagerQueries>
  </PropertyGroup>

  <PropertyGroup>
    <_srcDir>$([MSBuild]::NormalizeDirectory($(RepoRoot)src/)</_srcDir>
    <_testDir>$([MSBuild]::NormalizeDirectory($(RepoRoot)src/test)</_testDir>

    <IsTestProject Condition="'$(IsTestProject)' == ''">false</IsTestProject>
    <IsTestProject Condition="$(MSBuildProjectName.ToLower().EndsWith('.unittests')) or $(MSBuildProjectName.ToLower().EndsWith('.tests'))">true</IsTestProject>
    <IsTestProject Condition="$([MSBuild]::NormalizeDirectory('$(MSBuildProjectDirectory)').StartsWith('$(_testDir)'))">true</IsTestProject>
    <IsSourceProject Condition="'$(IsSourceProject)' == '' and '$(IsTestProject)' != 'true' and  !$([MSBuild]::NormalizeDirectory('$(MSBuildProjectDirectory)').StartsWith('$(_testDir)'))">true</IsSourceProject>
  </PropertyGroup>

</Project>
